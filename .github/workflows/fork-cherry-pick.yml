on:
  #Set to trigger on every merge to main, not on a closed PR.
  pull_request_target:
    branches:
      - main
    types: ["closed"]

jobs:
  cherry_pick:
    runs-on: ubuntu-latest
    name: Cherry pick into main
    # if: github.event.pull_request.merged == 'true'
    #TESTING
    steps:
      - name: Checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 1
      - name: Auto PR from fork main
        uses: uknowwhoim/auto-pr-fork@v0.2
        env:
          GITHUB_TOKEN: ${{ secrets.AUTH_TOKEN }}
          AUTO_PR_SETTINGS: ${{ secrets.AUTO_PR_SETTINGS }}
